# RefreshAndLoad
recyclerview的下拉刷新和上拉加载的功能实现
其实刷新加载功能是一个非常非常常见的功能，基本APP都包含了这个功能，我相信做过开发的人，多多少少都用到过，为什么这个简单的功能又拿出来说说呢？
因为自己研究的并且看着效果还行，具体效果怎么样，自己试试就知道了哦！
首先我要说的是，我之前写的项目一直都还是listview、gridview这些传统的控件，但是学习别人的源码，recyclerview非常普及了，可能我的感觉是突然，
其实早就已经出来了。我现在也已经全部改成recyclerview控件了，它这么火肯定是有它的优势。平时用的很多App都有刷新加载的功能，特别是头部转圈的那个，
感觉效果确实挺好的，刚好有时间，就研究了一下，最后发现竟然是google的控件，我还以为是大神自己写的效果。就是SwipeRefreshLayout这个控件，
google定义加载的时候有两种加载的方式，一种是头部的水平加载进度条，一种就是头部转圈的效果，个人感觉还是后面一种的效果更好。使用的时候也非常的简单，
只需要把在布局文件中把SwipeRefreshLayout放在根位置，把recyclerview作为它的子view即可，但有一个需要注意的地方：SwipeRefreshLayout的子控件只能有一个，
超过一个就会报错，刚开始我耍了小聪明，在SwipeRefreshLayout里面放了一个framelayout,然后在framelayout里面放了多布局，同样报错，如果确实项目遇到必须
放置多布局的情况，那就只能自己继承SwipeRefreshLayout重写里面的方法了。布局文件符合规范之后在代码里面实现SwipeRefreshLayout.OnRefreshListener()接口，
即可实现下拉刷新的功能，刷新的颜色可以自己设置。
现在来说说加载的功能，加载的功能很常见，滑动到底部的时候，重新加载数据，我继承了RecylerView，自己重新定义了一个带有上拉加载的接口回调，
实现上拉加载的逻辑其实也很简单，因为是上拉，所有当前手势操作的垂直距离小于0，怎样判断当前屏幕的最后一项为数据源的一项？这样想也对，但是有一个更简单
的思路，即最后一项为数据源的最后一项，如果当前页面不存在最后一项，连判断都不会执行，我之前也是第一种思路绕了点弯路，至此实现上拉加载的两个条件已经清楚，
因为我实现的效果是当触发加载的时候，底部会弹出一个动画，为了更好的用户体验，当加载操作执行的时候，不可以重复加载，必须等此次加载操作完成才可以执行
第二次的加载操作。所以我用了一个静态的布尔值来作为开关，当动画执行的时候锁死，在动画执行完毕的时候释放。这样的效果更符合实际，也更具有用户友好性，好了，
就啰嗦到这里了，希望可以帮到需要的人，建议先运行，如果不是你想要的效果，直接删除就好了！小弟献丑了，大神请走开，有什么好的建议以及bug可以联系我！
QQ:470794349
